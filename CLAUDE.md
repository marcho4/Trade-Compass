# Описание проекта Trade Compass

## Архитектура

Архитектура микросервисная. База данных сейчас одна на все микросервисы. Так сделано специально.

## Сервисы

### Parser

Сервис рассчитан на то, чтобы принимать отчеты и другие пдфки с полезной информацией извне и сохранять их в S3 хранилище.
S3 хранилище находится в Yandex Cloud. Есть ручка /start_parsing, которая запускает парсинг сайта e-disclosure.
В Postgres в таблице reports лежат данные о том, по какой ссылке лежат отчеты. Это чтобы AI service мог получить все ссылки и скачать к себе файлы в стейт из S3. Если в S3 уже есть отчет, то сервис его скипнет.
Для тестов используется pytest, для работы с Postgres работает ORM SqlAlchemy.

Краткое описание процессинга отчета:

1. Скачивание
2. Парсинг метаданных об отчете
3. Анзиппинг и сохранение пдф в файловую систему
4. Загрузка в S3
5. Загрузка в БД
6. Векторизация отчета в базу данных Qdrant

### Auth Service

### Ai Service

### Financial Data Service
